# Банковский онлайн-калькулятор

Веб-приложение для банка, предоставляющее пользователям функцию онлайн-калькулятора для расчета ипотеки, автокредита, потребительского кредита и пенсионных накоплений.

## Технологии

- **Frontend**: React
- **Backend**: Node.js, Express
- **База данных**: MongoDB
- **Пакетный менеджер**: Yarn

## Функциональность

- Расчет ипотеки
- Расчет автокредита
- Расчет потребительского кредита
- Расчет пенсионных накоплений
- Отправка результатов расчетов на почту
- Административная панель для управления калькуляторами

## Установка и запуск

### Предварительные требования

- Node.js (версия 14.x или выше)
- Yarn
- MongoDB (локально или удаленно)

### Шаги по установке

1. Клонировать репозиторий:

   ```bash
   git clone <url-репозитория>
   cd banking
   ```

2. Установить зависимости:

   ```bash
   yarn install-all
   ```

3. Создать файл .env в папке server на основе .env.example:

   ```bash
   cp server/.env.example server/.env
   ```

4. Отредактировать файл .env, указав свои параметры подключения к MongoDB и другие настройки.

5. Запустить приложение в режиме разработки:

   ```bash
   yarn dev
   ```

6. Приложение будет доступно по адресу:
   - Frontend: <http://localhost:3000>
   - Backend API: <http://localhost:5000>

## Структура проекта

```tree
banking/
├── client/            # Frontend (React)
│   ├── public/        # Статические файлы
│   └── src/           # Исходный код React
│       ├── components/  # Компоненты React
│       ├── context/     # Context API
│       ├── pages/       # Страницы приложения
│       ├── styles/      # CSS стили
│       └── utils/       # Вспомогательные функции
│
├── server/            # Backend (Node.js + Express)
│   ├── config/        # Конфигурационные файлы
│   ├── controllers/   # Контроллеры
│   ├── middleware/    # Middleware
│   ├── models/        # MongoDB модели
│   ├── routes/        # API маршруты
│   ├── services/      # Бизнес-логика
│   └── utils/         # Вспомогательные функции
│
└── README.md          # Документация проекта
```

## Инициализация базы данных

Для инициализации базы данных с начальными данными выполните следующую команду:

```bash
node server/config/seedDatabase.js
```

Это создаст администратора с учетными данными:

- Email: <admin@example.com>
- Пароль: admin123

И добавит базовые калькуляторы с предустановленными параметрами.

## Формулы для расчета

### Ипотека (годовая ставка: 9.6%)

- Сумма ипотеки = Стоимость недвижимости - Первоначальный взнос
- Ежемесячная ставка = 9.6 / 12 / 100 = 0.008
- Общая ставка = (1 + Ежемесячная ставка) ^ (Срок ипотеки * 12)
- Ежемесячный платеж = Сумма ипотеки *Ежемесячная ставка* Общая ставка / (Общая ставка - 1)
- Необходимый доход = Ежемесячный платеж * 2.5

### Автокредит (годовая ставка: 3.5%)

- Сумма автокредита = Стоимость автомобиля - Первоначальный взнос
- Ежемесячная ставка = 3.5 / 12 / 100 = 0.00292
- Общая ставка = (1 + Ежемесячная ставка) ^ (Срок кредита * 12)
- Ежемесячный платеж = Сумма автокредита *Ежемесячная ставка* Общая ставка / (Общая ставка - 1)
- Необходимый доход = Ежемесячный платеж * 2.5

### Потребительский кредит (годовая ставка: 14.5%)

- Ежемесячная ставка = 14.5 / 12 / 100 = 0.01208
- Общая ставка = (1 + Ежемесячная ставка) ^ (Срок кредита * 12)
- Ежемесячный платеж = Сумма кредита *Ежемесячная ставка* Общая ставка / (Общая ставка - 1)
- Необходимый доход = Ежемесячный платеж * 2.5
